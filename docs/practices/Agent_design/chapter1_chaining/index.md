# Chapter 1: Prompt Chaining (æç¤ºè¯é“¾)

## ðŸ“– æ ¸å¿ƒæ¦‚å¿µ

**Prompt Chaining (æç¤ºè¯é“¾)** æ˜¯ä¸€ç§å°†å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºä¸€ç³»åˆ—è¾ƒå°ã€è¾ƒç®€å•çš„å­ä»»åŠ¡çš„è®¾è®¡æ¨¡å¼ã€‚æ¯ä¸ªå­ä»»åŠ¡ç”±ä¸€ä¸ªç‹¬ç«‹çš„ LLM è°ƒç”¨ï¼ˆPromptï¼‰å¤„ç†ï¼Œå‰ä¸€ä¸ªæ­¥éª¤çš„è¾“å‡ºä½œä¸ºä¸‹ä¸€ä¸ªæ­¥éª¤çš„è¾“å…¥ã€‚

è¿™ç§æ¨¡å¼çš„ä¼˜åŠ¿åœ¨äºŽï¼š
*   **é™ä½Žå¤æ‚åº¦**ï¼šLLM åœ¨å¤„ç†å•ä¸€ã€ä¸“æ³¨çš„ä»»åŠ¡æ—¶è¡¨çŽ°æ›´å¥½ã€‚
*   **æé«˜å¯é æ€§**ï¼šå¯ä»¥æ£€æŸ¥å’ŒéªŒè¯æ¯ä¸€æ­¥çš„ä¸­é—´ç»“æžœã€‚
*   **ä¾¿äºŽè°ƒè¯•**ï¼šå®¹æ˜“å®šä½å“ªä¸ªçŽ¯èŠ‚å‡ºäº†é—®é¢˜ã€‚

## ðŸ›  ä»£ç åŠŸèƒ½ä»‹ç»

æœ¬ç« èŠ‚çš„ä»£ç æ–‡ä»¶ `chapter1_chaining_practice.py` åŒ…å«ä¸¤ä¸ªç»ƒä¹ ï¼š

1.  **åŸºç¡€æå–æµæ°´çº¿ (Basic Extraction Pipeline)**:
    *   **è¾“å…¥**: ä¸€æ®µåŒ…å«æŠ€æœ¯è§„æ ¼çš„éžç»“æž„åŒ–æ–‡æœ¬ã€‚
    *   **æ­¥éª¤ 1**: æå–å…³é”®å‚æ•°ï¼ˆCPU, å†…å­˜, å­˜å‚¨ï¼‰ã€‚
    *   **æ­¥éª¤ 2**: å°†æå–çš„ä¿¡æ¯è½¬æ¢ä¸ºæ ‡å‡†çš„ JSON æ ¼å¼ã€‚
    *   **è¾“å‡º**: JSON å¯¹è±¡ã€‚

2.  **åˆ›æ„å†™ä½œæµæ°´çº¿ (Creative Writing Pipeline)**:
    *   **è¾“å…¥**: ä¸€ä¸ªå†™ä½œä¸»é¢˜ã€‚
    *   **æ­¥éª¤ 1**: ç”Ÿæˆä¸€ä¸ªå¸å¼•äººçš„æ ‡é¢˜ã€‚
    *   **æ­¥éª¤ 2**: æ ¹æ®æ ‡é¢˜ç”Ÿæˆå¤§çº²ã€‚
    *   **æ­¥éª¤ 3**: æ ¹æ®æ ‡é¢˜å’Œå¤§çº²æ’°å†™å¼•è¨€ã€‚
    *   **è¾“å‡º**: å®Œæ•´çš„åšå®¢æ–‡ç« å¼•è¨€ã€‚

## âš™ï¸ è¿è¡ŒçŽ¯å¢ƒä¸Žä¾èµ–

*   **Python**: 3.10+
*   **ä¾èµ–åŒ…**:
    *   `langchain`
    *   `langchain-core`
    *   `loguru`
    *   é¡¹ç›®è‡ªèº«çš„ `src` æ¨¡å— (éœ€æ­£ç¡®é…ç½® PYTHONPATH)

## ðŸš€ æ‰§è¡Œæ­¥éª¤

### æ–¹æ³• 1: ä½¿ç”¨å¯åŠ¨è„šæœ¬ (æŽ¨è)

1.  åœ¨æ–‡ä»¶èµ„æºç®¡ç†å™¨ä¸­æ‰¾åˆ° `src/practices/Agent_design/chapter1_chaining` ç›®å½•ã€‚
2.  åŒå‡»è¿è¡Œ **`run.bat`** è„šæœ¬ã€‚

### æ–¹æ³• 2: å‘½ä»¤è¡Œè¿è¡Œ

1.  æ‰“å¼€ç»ˆç«¯ (Terminal) æˆ–å‘½ä»¤æç¤ºç¬¦ (CMD)ã€‚
2.  å¯¼èˆªåˆ°ä»£ç ç›®å½•ï¼š
    ```bash
    cd d:\code\python\everything_about_agent\src\practices\Agent_design\chapter1_chaining
    ```
3.  è¿è¡Œ Python è„šæœ¬ï¼š
    ```bash
    python chapter1_chaining_practice.py
    ```

## ðŸ“ API å‚è€ƒ

### `practice_basic_chaining()`

æ‰§è¡ŒåŸºç¡€çš„ä¿¡æ¯æå–å’Œæ ¼å¼åŒ–è½¬æ¢ä»»åŠ¡ã€‚

```python
def practice_basic_chaining():
    """
    Practice 1: Basic Extraction Pipeline
    Scenario: Extract technical specifications -> Transform to JSON
    """
    # ...
```

### `practice_creative_writing_pipeline()`

æ‰§è¡Œå¤šæ­¥éª¤çš„åˆ›æ„å†™ä½œä»»åŠ¡ï¼Œæ¼”ç¤ºé¡ºåºä¾èµ–å…³ç³»ã€‚

```python
def practice_creative_writing_pipeline():
    """
    Practice 2: Creative Writing Pipeline
    Scenario: Topic -> Title -> Outline -> Introduction
    """
    # ...
```
